<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/DevHack/css/welcome.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <title>Application</title>
</head>
<body style = "background-color: #f4eae1; font-family: 'Poppins', sans-serif;">
    <div class="topnav" id="myTopnav">
        <a href="/DevHack/html/welcome.html">Home</a>
        <a href="/DevHack/html/application.html" class="active">My Application</a>
        <a href="/DevHack/index.html" class = "split">Log out</a>
    </div>
    <div class="sticky-banner">
        <img class = "responsive-image" src="/DevHack/img/3.png" alt="application banner">
    </div>
    <br>
    <div class = "card">
        <div class = "container">
            <h3><b>Software Developer Internship</b></h3>
            <p>
                <b>TechSolutions Inc.</b><br>
                Kuala Lumpur, Malaysia<br>
                <br>
                <b>Job Description</b>
                <br>TechSolutions Inc. is offering an exciting opportunity for Software Developer Interns or Fresh Graduates to join our dynamic team in Kuala Lumpur. You will play a key role in learning and contributing to the development of cutting-edge software solutions. Your responsibilities will include software development, code reviews, and collaborating with experienced team members to deliver high-quality software products.<br>
                <br>
            </p>
            <h3><b>Application Status:</b> <span id="status">In progress</span></h3>
            <button onclick="changeStatus()">Update Status</button>
            <button id="videobtn" style="display: none" onclick="document.location = '/DevHack/html/video_interview1.html'">Start Video Interview</button>
        </div>
    </div>

    <script>
        var video_interview = false;
        var rejected = false;
        var completed_interview = false;

        function getCurrentStatus() {
            var statusElement = document.getElementById('status');
            var currentStatus = statusElement.textContent;
            return currentStatus;
        }

        function changeStatus(){
            var statuses = ["Accepted", "Rejected"];
            var randomStatus = statuses[Math.floor(Math.random() * statuses.length)];

            var statusElement = document.getElementById('status');
            var videobtn = document.getElementById('videobtn');

            if(rejected === true){
                statusElement.textContent = "Rejected";
            }else if(video_interview === false){
                statusElement.textContent = "Pending Video Interview";
                videobtn.style.display = "inline-block";
            } else if(video_interview === true && completed_interview === false){
                statusElement.textContent = "Completed Video Interview";
                videobtn.style.display = "none";
                completed_interview = true;
            } else if(video_interview === true && completed_interview === true){
                statusElement.textContent = randomStatus;
                if(randomStatus === "Rejected"){
                    rejected = true;
                }
            }
        }

        // Function to get query parameter value from the URL
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Read the query parameter and set the video_interview variable
        var video_interview = getQueryParam("video_interview") === "true";
    </script>
</body>
</html>